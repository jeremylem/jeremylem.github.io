<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Running AI Models in Java without Python - Cognitive offloading</title>
<meta name="description" content="One of the most common misconceptions in AI engineering is that you always need a Python runtime to execute models.">


  <meta name="author" content="J. Lemaire">
  
  <meta property="article:author" content="J. Lemaire">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Cognitive offloading">
<meta property="og:title" content="Running AI Models in Java without Python">
<meta property="og:url" content="http://localhost:4000/blogging/2025/11/30/AI_Java.html">


  <meta property="og:description" content="One of the most common misconceptions in AI engineering is that you always need a Python runtime to execute models.">







  <meta property="article:published_time" content="2025-11-30T00:00:00+01:00">






<link rel="canonical" href="http://localhost:4000/blogging/2025/11/30/AI_Java.html">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Cognitive offloading Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Cognitive offloading
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/"
                
                
              >Home</a>
            </li><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">J. Lemaire</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>Emptying the mind, one article at a time</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Running AI Models in Java without Python">
    <meta itemprop="description" content="One of the most common misconceptions in AI engineering is that you always need a Python runtime to execute models.">
    <meta itemprop="datePublished" content="2025-11-30T00:00:00+01:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="http://localhost:4000/blogging/2025/11/30/AI_Java.html" itemprop="url">Running AI Models in Java without Python
</a>
          </h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#problem">Problem</a></li><li><a href="#onnx-is-like-the-pdf-for-machine-learning-models">ONNX is like the “PDF” for machine learning models.</a></li><li><a href="#the-runtime-architecture">The Runtime Architecture</a></li><li><a href="#the-tokenization-challenge">The Tokenization Challenge</a></li><li><a href="#the-pure-java-pipeline">The Pure Java Pipeline:</a></li></ul>
            </nav>
          </aside>
        
        <p>One of the most common misconceptions in AI engineering is that you always need a Python runtime to execute models.</p>

<p>This is where <strong>ONNX (Open Neural Network Exchange)</strong> is critical. In 2017, Microsoft and Facebook realized they had a problem: framework Lock-in.</p>

<p>At the time, if you trained a model in PyTorch, you were stuck there. Deploying it to production often meant rewriting code or using slow wrappers.</p>

<p>Their goal was to create a “Universal Interchange Format” a standard that allowed models to be trained in flexible frameworks (like PyTorch) but run on high-performance inference
engines (like ONNX Runtime) without being tied to the original training environment.</p>

<p>Google did not join the ONNX partnership initially; they had their own ecosystem but over time, it did become the standard bridge between PyTorch and TensorFlow,</p>

<p>In the modern AI landscape, 99% of model development happens in one of two places: PyTorch or TensorFlow.</p>

<h2 id="problem">Problem</h2>

<p>Usually, running AI in Java means creating a sidecar Python service or using slow HTTP bridges.</p>

<p>If you are a Java shop building AI features, you might go through the following steps:</p>

<ol>
  <li>
    <p>Data Science team builds a model in PyTorch/TensorFlow.</p>
  </li>
  <li>
    <p>Engineering team has to wrap it in a Flask/FastAPI container.</p>
  </li>
  <li>
    <p>You end up managing two languages, two CI/CD pipelines, and a massive Python runtime (often 3GB+) just to perform a simple calculation.</p>
  </li>
</ol>

<p>Only recently (with the maturation of LangChain4j and better Java bindings for ONNX Runtime, it has become a viable way to replace Python entirely in enterprise backends.</p>

<h2 id="onnx-is-like-the-pdf-for-machine-learning-models">ONNX is like the “PDF” for machine learning models.</h2>

<ul>
  <li>
    <p>Python (PyTorch/TensorFlow): It’s the editor where you create, train, and tweak the model. It’s heavy and complex.</p>
  </li>
  <li>
    <p>ONNX: Is the exported, static artifact. It serializes the model into a computation graph (a set of nodes and edges representing mathematical operations).</p>
  </li>
</ul>

<h2 id="the-runtime-architecture">The Runtime Architecture</h2>

<p>When this system runs, it doesn’t spin up a hidden Python process or make HTTP calls to a flask server. It uses the Microsoft ONNX Runtime (ORT).</p>

<ul>
  <li>
    <p>ORT is a high-performance inference engine written in C++.</p>
  </li>
  <li>
    <p>The Java application communicates with ORT via the Java Native Interface (JNI).</p>
  </li>
  <li>
    <p>This allows us to run the model on the CPU (using AVX2/AVX512 instructions) or GPU directly from Java, often faster than the original Python implementation because we bypass the
Python Global Interpreter Lock (GIL).</p>
  </li>
</ul>

<p><strong>Result</strong>: you get near-metal performance with zero Python interpreter overhead, no CPython Global Interpreter Lock (GIL), and no pip install nightmares in production and therefore
you can full take advantage of Java multithreading capabilities. Java has no GIL: If your server receives 100 requests to vectorize documents, Java can utilize all cores of the
server simultaneously to process them. By using Java, you unlock the hardware’s full potential without complex workarounds (like multiprocessing).</p>

<h2 id="the-tokenization-challenge">The Tokenization Challenge</h2>

<p>The trickiest part of “Python-free” RAG isn’t the model it’s the tokenization (converting text “Hello” into numbers [142, 7489]).</p>

<p>Even if you have the model in ONNX, you still need Python to perform tokenization</p>

<p>In Python, we take transformers.AutoTokenizer for granted, but under the hood, it is performing a complex process:</p>

<ol>
  <li>
    <p>Normalization: Unicode formatting (NFC vs NFD), lowercasing, and stripping accents.</p>
  </li>
  <li>
    <p>Pre-tokenization: splitting text by whitespace or punctuation (e.g., “don’t” -&gt; “don”, “‘t”).</p>
  </li>
  <li>
    <p>Model Mapping: applying algorithms like BPE (Byte-Pair Encoding used by GPT-4) or WordPiece (used by BERT) to merge characters into sub-word tokens and therefore understand the
concept of the word by analyzing its parts, even if it has never seen the full word before.</p>
  </li>
</ol>

<p>In Java, LangChain4j and the underlying <a href="https://github.com/deepjavalibrary/djl">DJL</a>/<a href="https://jeremylem.github.io/blogging/2025/11/30/AI_Java.html">ONNX</a> dependencies handles this
natively It reads the standard tokenizer.json file (exported from Hugging Face) for a Model and performs the text-to-ID conversion entirely in Java before feeding the tensors to
ONNX.</p>

<h2 id="the-pure-java-pipeline">The Pure Java Pipeline:</h2>

<ol>
  <li>
    <p>Input: String (Java)</p>
  </li>
  <li>
    <p>Tokenization: Native Java implementation (No Python)</p>
  </li>
  <li>
    <p>Inference: ONNX Runtime (C++ via JNI)</p>
  </li>
  <li>
    <p>Output: Vector Embedding (Java float array)</p>
  </li>
</ol>

<p>This architecture is what allows mcp_server4j to run as a single, self-contained JAR file with zero external dependencies.</p>

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2025-11-30T00:00:00+01:00">November 30, 2025</time></p>

      </footer>

      

      
  <nav class="pagination">
    
      <a href="/blogging/2025/11/29/MCP_RAG4J.html" class="pagination--pager" title="Building RAG Systems in Java">Previous</a>
    
    
      <a href="/blogging/2025/12/29/CD_to_CD.html" class="pagination--pager" title="From Continuous Delivery to Continuous Deployment">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
</div>

      
    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2025 <a href="http://localhost:4000">Cognitive offloading</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>









  </body>
</html>
